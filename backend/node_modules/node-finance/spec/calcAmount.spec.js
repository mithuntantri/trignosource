"use strict";

var finance = require('../finance');

describe("calcAmount", function () {
    var calcAmount;
    var months = 60;
    var rate = 10;
    var payment = 100;
    var expectedResult = 4706.54 ;
    beforeEach(function (){
        calcAmount = finance.calcAmount;
    });

    describe("Test synchronous interface", function () {
        it("calculates amount financed in synchronous mode", function () {

            var actualResult = calcAmount(months, rate, payment);

            expect(actualResult).toEqual(expectedResult);
        });
    });

    describe("Test Node-Style asynchronous interface", function () {
        it("calculates amount financed in asynchronous mode and returns in familiar node (err, result) format", function () {

            calcAmount(months, rate, payment, function(err, result){
                expect(result).toEqual(expectedResult);
            });
        });
    });

});