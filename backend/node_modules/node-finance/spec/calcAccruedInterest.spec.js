"use strict";

var finance = require('../finance');

describe("calcAccruedInterest", function () {
    var calcAccruedInterest;
    var principle = 1000;
    var months = 10;
    var rate = 10;
    var expectedResult = 86.52880070723813;
    beforeEach(function (){
        calcAccruedInterest = finance.calcAccruedInterest;
    });

    describe("validate right number of arguments", function(){
        it("submits an incorrect number of arguments", function(){

            var actualResult = calcAccruedInterest(principle, months);
            expect(actualResult).toEqual(expectedResult);
        });
    });

    describe("Test synchronous interface", function () {
        it("calculates interest in synchronous mode", function () {

            var actualResult = calcAccruedInterest(principle, months, rate);
            expect(actualResult).toEqual(expectedResult);
        });
    });


    describe("Test Node-Style asynchronous interface", function () {
        it("calculates interest in asynchronous mode and returns in familiar node (err, result) format", function () {

            calcAccruedInterest(principle, months, rate, function(err, result){
                expect(result).toEqual(expectedResult);
            });
        });
    });

});